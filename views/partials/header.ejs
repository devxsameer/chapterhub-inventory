<header
  class="fixed px-4 top-0 left-0 right-0 h-12 flex items-center gap-8 justify-between bg-neutral-200"
>
  <h1 class="text-xl font-bold text-neutral-900">
    <span class="text-purple-700">chapterhub</span>-inventory
  </h1>
  <form method="GET" action="/books">
    <div class="border-b-2 gap-1 flex items-center">
      <button class="cursor-pointer rounded">
        <%- include("icons/searchIcon") %>
      </button>
      <input type="text" name="search" placeholder="Search title..." value="<%=
      locals?.query ? query.search || '': "" %>" class="outline-none" />
    </div>

    <!-- Preserve genre multi-select -->
    <% if (locals?.query && query.genre) { const selectedGenres =
    Array.isArray(query.genre) ? query.genre : [query.genre];
    selectedGenres.forEach(g => { %>
    <input type="hidden" name="genre" value="<%= g %>" />
    <% }) } %>

    <!-- Preserve sorting -->
    <% if (locals?.query && query.sort) { %>
    <input type="hidden" name="sort" value="<%= query.sort %>" />
    <% } %>
  </form>
</header>
